---
layout: post
title: "【AI Agents】打造專屬的超級代理人_年度公關災難的危機處理思考生成器Two_Stage_CoT版"
date: 2025-11-03 21:00:00 +0800  # 確保日期與檔名一致
categories: [ai]     # 定義標籤和分類
---

本次作業將原來的「員瑛式思考產生器」進行了風格與實務應用上的巨大轉型。嘗試將 CoT 推理模式，從最初的情感處理（將倒楣轉為幸運），升級應用到專業的商業領域——「年度公關災難的危機處理」，未來有機會應用在公傳室進行危機處理作業參考。

## 專案目標與 CoT 應用說明
本專案旨在訓練大型語言模型（LLM）扮演「品牌危機管理顧問」的角色，處理一個複雜的企業公關災難。我們使用 Chain-of-Thought (CoT) 模式，目的不是為了得到一個簡單的結論，而是為了系統性地展示從診斷到決策的完整推理路徑。

## 💡 使用 CoT 的核心原因
在危機管理中，決策必須快速且層層遞進，無法一步到位。CoT 模式完美模擬了專業顧問的思考過程：
1. 結構化分析（取代主觀情緒）：
    - 原因： 危機事件往往涉及多個層面（產品、流程、高層、公眾情緒）。如果直接要求 LLM 輸出策略，它可能會遺漏關鍵因素。
    - CoT 優勢： 透過 Planner 階段的指令，我們強制模型依序從「危機類型識別」、「利害關係人衝擊」等不同維度進行分類診斷，確保分析的嚴謹性與全面性。
2. 分階段策略制定（取代單一反應）：
    - 原因： 一個好的危機處理方案是分階段進行的（止血、修復、重建），單一輸出無法體現決策的時間軸和複雜度。
    - CoT 優勢： 透過 Writer 階段的指令，我們強制模型設計「三階段策略」，將長期願景與緊急行動在邏輯上連結起來。這展示了 CoT 在複雜流程設計上的強大能力。
3. 避免主觀偏誤：
    - 原因： 在沒有 CoT 的情況下，模型很容易被最勁爆的資訊吸引，輸出情緒化的建議。
    - CoT 優勢： CoT 要求輸出「關鍵論證點」和「核心問題聚焦」，迫使模型將注意力集中在最系統性、最需要解決的問題上，從而產出更理性、更具執行性的策略報告。

總而言之，這個作業證明了 CoT 不僅能處理學術辯論，更能作為一種強大的流程控制工具，將 LLM 轉變為一個在商業情境中能夠進行嚴謹、有條理決策的專業顧問。


## 程式碼
[colab程式碼](https://colab.research.google.com/drive/1EW-4IqMs5o4g_AEgAZV-L5uQVDn_cANm?usp=sharingLinks)

## CoT 改寫版本的兩階段(思考/產文階段)
- Step 1: CoT - 這個 Prompt 強制模型將使用者輸入的事件作為分析對象，並進行嚴謹的分類診斷
```
    planning_prompt = (
    f"請根據使用者提供的公關危機事件：『{prompt}』，"
    f"執行你的 CoT 危機診斷步驟：\n"
    f"1. **危機類型識別**：簡要說明此事件屬於哪種危機類型（例如：產品缺陷、領導失言、流程疏失）。\n"
    f"2. **關鍵診斷**：請想出四個嚴謹的關鍵診斷點，用來支持『該企業當前情勢的嚴重性』。這四點必須分析其對『消費者』、『內部員工』、『投資者』和『品牌聲譽』的衝擊。\n"
    f"請直接輸出這四個診斷點的條列式清單。"
    )
```

- Step 2: 這個 Prompt 強制模型以三段式的公關策略框架來組織輸出
```
    generation_prompt = (
    f"這是 Planner 提供的四個關鍵危機診斷點（即：\n{lucky_reasons}\n）。\n\n"
    f"請扮演品牌策略師，執行以下 CoT 策略制定流程：\n"
    f"1. **核心問題聚焦**：從上述診斷點中，選出一個『最需要立即處理』的核心問題。\n"
    f"2. **策略設計**：請根據該核心問題，為企業設計一個『既誠懇又有效』的三階段危機應對策略。請明確標示並說明以下三期目標：\n"
    f" - **止血期（24小時內）**：行動目標與溝通內容。\n"
    f" - **修復期（短期承諾）**：具體補救措施與恢復消費者信任的承諾。\n"
    f" - **重建期（長期願景）**：如何將危機轉化為品牌長期改進的機會。\n"
    f"3. **總結**：以一句話總結該策略成功的關鍵，並輸出最終的策略報告。"
    )
```

# 人設設定或Reflection的寫手/評估者人設設定

```
    system_planner = "請用台灣習慣的中文回應: 你是一位頂尖的品牌危機管理顧問，專精於公關與風險分析。你的任務是執行 CoT 推理：針對使用者輸入的企業危機事件，依序思考並列出四個『診斷危機』的關鍵論證點。論證點需涵蓋危機成因、利害關係人衝擊、和公眾情緒三個維度。請以條列式清單呈現，每個論證點需包含一個『診斷方向』與『佐證的公關學或風險管理事實』。"

    system_writer = "請用台灣習慣的中文回應: 你是一位專業且果斷的品牌策略師與公關執行長，擅長將嚴謹的危機分析結論，轉化為具體可行的三階段應對策略。請根據 Planner 提供的四個診斷點，設計一個『既誠懇又有效』的危機處理策略。策略必須涵蓋：1. 止血期（24h內）、2. 修復期（短期承諾）、3. 重建期（長期願景）。結尾請用一句話總結該企業度過危機的成功關鍵，並加入一個能展現專業態度的emoji。"
```

# 重點截圖
![AI agent畫面](/assets/images/ai-AgentCode1104.png)

# Gradio 的對話結果
![AI agent畫面](/assets/images/ai-Agent1104.png)